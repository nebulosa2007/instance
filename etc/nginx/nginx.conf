worker_processes     1;
worker_rlimit_nofile 65535;

events {
    worker_connections 4096;
}

http {
    include          mime.types;
    default_type     application/octet-stream;
    sendfile         on;
    keepalive_timeout  65;
    types_hash_max_size 4096;

    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log error;
    
    server {
        listen       5443 ssl proxy_protocol;
        http2        on;
        server_name  localhost;
        set_real_ip_from 127.0.0.1;
        real_ip_header proxy_protocol;
        ssl_certificate     /etc/letsencrypt/nginxcerts/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/nginxcerts/privkey.pem;
        include      sites-enabled/5443_*.conf;
        #include      sites-enabled/4443_*.conf;
        include      sites-enabled/static_*.conf;
        error_page   500 502 503 504  /50x.html;
        location =   /50x.html {
            root     /usr/share/nginx/html;
        }
        root /home/http/html;
        index index.html index.htm index.php;
	}
}
